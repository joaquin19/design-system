{"ast":null,"code":"import { defined } from '../util';\n\nclass SurfaceCursor {\n  constructor(surface) {\n    surface.bind(\"mouseenter\", this._mouseenter.bind(this));\n    surface.bind(\"mouseleave\", this._mouseleave.bind(this));\n    this.element = surface.element;\n  }\n\n  clear() {\n    this._resetCursor();\n  }\n\n  destroy() {\n    this._resetCursor();\n\n    delete this.element;\n  }\n\n  _mouseenter(e) {\n    const cursor = this._shapeCursor(e);\n\n    if (!cursor) {\n      this._resetCursor();\n    } else {\n      if (!this._current) {\n        this._defaultCursor = this._getCursor();\n      }\n\n      this._setCursor(cursor);\n    }\n  }\n\n  _mouseleave() {\n    this._resetCursor();\n  }\n\n  _shapeCursor(e) {\n    let shape = e.element;\n\n    while (shape && !defined(shape.options.cursor)) {\n      shape = shape.parent;\n    }\n\n    if (shape) {\n      return shape.options.cursor;\n    }\n  }\n\n  _getCursor() {\n    if (this.element) {\n      return this.element.style.cursor;\n    }\n  }\n\n  _setCursor(cursor) {\n    if (this.element) {\n      this.element.style.cursor = cursor;\n      this._current = cursor;\n    }\n  }\n\n  _resetCursor() {\n    if (this._current) {\n      this._setCursor(this._defaultCursor || \"\");\n\n      delete this._current;\n    }\n  }\n\n}\n\nexport default SurfaceCursor;","map":null,"metadata":{},"sourceType":"module"}