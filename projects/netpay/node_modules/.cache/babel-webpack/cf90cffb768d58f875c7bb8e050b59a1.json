{"ast":null,"code":"import errorDetails from './error-details';\nconst formatRegExp = /\\{(\\d+)}?\\}/g;\n\nclass IntlError {\n  constructor({\n    name,\n    message\n  }) {\n    if (!name || !message) {\n      throw new Error(\"{ name: string, message: string } object is required!\");\n    }\n\n    this.name = name;\n    this.message = message;\n  }\n\n  formatMessage(...values) {\n    const flattenValues = flatten(values);\n    const formattedMessage = this.message.replace(formatRegExp, function (match, index) {\n      return flattenValues[parseInt(index, 10)];\n    });\n    return `${this.name}: ${formattedMessage}`;\n  }\n\n  error(...values) {\n    return new Error(this.formatMessage(values));\n  }\n\n}\n\nconst flatten = function (arr) {\n  return arr.reduce((a, b) => a.concat(b), []);\n};\n\nconst toIntlErrors = function (errors) {\n  const predicate = function (prev, name) {\n    prev[name] = new IntlError({\n      name,\n      message: errors[name]\n    });\n    return prev;\n  };\n\n  return Object.keys(errors).reduce(predicate, {});\n};\n\nconst errors = toIntlErrors(errorDetails);\nexport { errors, IntlError, toIntlErrors };","map":null,"metadata":{},"sourceType":"module"}